(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb7af980","chunk-74a3e4d7"],{2903:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("detail",{attrs:{"is-edit":!1}})},r=[],i=e("ef18"),s={name:"TestimonialsCreate",components:{Detail:i["default"]}},o=s,c=e("2877"),l=Object(c["a"])(o,n,r,!1,null,null,null);a["default"]=l.exports},6350:function(t,a,e){"use strict";e.d(a,"d",function(){return i}),e.d(a,"c",function(){return s}),e.d(a,"a",function(){return o}),e.d(a,"e",function(){return c}),e.d(a,"b",function(){return l});var n=e("b775"),r="ajax/";function i(t){return Object(n["a"])({url:r+"testimonials",method:"get",params:t})}function s(t){return Object(n["a"])({url:r+"testimonials/"+t,method:"get"})}function o(t){return Object(n["a"])({url:r+"testimonials",method:"post",data:t})}function c(t,a){return Object(n["a"])({url:r+"testimonials/"+t,method:"patch",data:a})}function l(t){return Object(n["a"])({url:r+"testimonials/"+t,method:"delete"})}},a7ca:function(t,a,e){"use strict";var n=e("c5b5"),r=e.n(n);r.a},c5b5:function(t,a,e){},ef18:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{attrs:{id:"main-container"}},[e("div",{staticClass:"row no-gutters flex-md-10-auto"},[e("div",{staticClass:"col-md-4 col-lg-5 col-xl-3 order-md-1 bg-white"},[e("div",{staticClass:"content p-0"},[t._m(0),e("div",{staticClass:"d-none d-md-block push",attrs:{id:"side-content"}},[e("div",{attrs:{id:"settings-accordion",role:"tablist","aria-multiselectable":"true"}},[e("div",{staticClass:"block mb-0"},[t._m(1),e("div",{staticClass:"collapse show",attrs:{id:"settings-accordion_s1",role:"tabpanel","aria-labelledby":"settings-accordion_h1","data-parent":"#settings-accordion"}},[e("div",{staticClass:"block-content"},[e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-12"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.currentForm.status,expression:"currentForm.status"}],staticClass:"custom-select",attrs:{id:"example-wp-visibility",name:"example-wp-visibility"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.currentForm,"status",a.target.multiple?e:e[0])}}},t._l(t.listStatus,function(a,n){return e("option",{key:n,domProps:{value:a.id}},[t._v(" "+t._s(a.name))])}),0)])])])])])])])])]),e("div",{staticClass:"col-md-8 col-lg-7 col-xl-9 order-md-0 bg-body-dark"},[e("div",{staticClass:"content content-full"},[e("div",{staticClass:"block block-fx-pop"},[e("div",{staticClass:"block-content block-content-full d-flex justify-content-between border-bottom"},[e("div",[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[t._m(2),e("li",{staticClass:"breadcrumb-item"},[t._v("Ý kiến khách hàng")]),t.isEdit?e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Sửa Ý kiến khách hàng")]):e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Tạo Ý kiến khách hàng")])])])]),e("div",[e("a",{staticClass:"btn btn-sm btn-info",attrs:{href:"javascript:void(0)"},on:{click:function(a){return a.preventDefault(),t.submitForm(a)}}},[t._v("Lưu lại")])])]),e("div",{staticClass:"block-content block-content-full"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-xl-4"},[e("div",{staticClass:"block block-link-pop text-right border p-1"},[e("div",{staticClass:"avatar-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentForm.avatar,expression:"currentForm.avatar"}],attrs:{type:"hidden"},domProps:{value:t.currentForm.avatar},on:{input:function(a){a.target.composing||t.$set(t.currentForm,"avatar",a.target.value)}}}),e("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.openFileManager("avatar")}}},[t.currentForm.avatar&&""!=t.currentForm.avatar?e("img",{staticClass:"img-avatar img-avatar-thumb img-avatar-rounded",attrs:{src:t.currentForm.avatar,alt:""}}):e("img",{staticClass:"img-avatar img-avatar-thumb img-avatar-rounded",attrs:{src:"/admin-resources/media/avatars/avatar9.jpg",alt:""}})])]),e("div",{staticClass:"author-box"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentForm.author,expression:"currentForm.author"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Tên khách hàng..."},domProps:{value:t.currentForm.author},on:{input:function(a){a.target.composing||t.$set(t.currentForm,"author",a.target.value)}}})])])])]),e("div",{staticClass:"col-md-6 col-xl-8"},[e("div",{staticClass:"form-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentForm.content,expression:"currentForm.content"}],staticClass:"form-control",attrs:{rows:"4",placeholder:"Đánh giá của khách hàng"},domProps:{value:t.currentForm.content},on:{input:function(a){a.target.composing||t.$set(t.currentForm,"content",a.target.value)}}})])])])])])])])]),e("file-manager-popup")],1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"d-md-none p-3"},[e("button",{staticClass:"btn btn-block btn-hero-primary",attrs:{type:"button","data-toggle":"class-toggle","data-target":"#side-content","data-class":"d-none"}},[t._v("\n                      Cài đặt\n                  ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"block-header block-header-default p-0",attrs:{role:"tab",id:"settings-accordion_h1"}},[e("a",{staticClass:"font-w600 d-block w-100 p-3",attrs:{"data-toggle":"collapse","data-parent":"#settings-accordion",href:"#settings-accordion_s1","aria-expanded":"true","aria-controls":"settings-accordion_s1"}},[t._v("Trạng thái")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",{staticStyle:{"margin-top":"-4px","margin-right":"5px"}},[e("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button"}},[e("i",{staticClass:"fa fa-plus"})])])}],i=(e("a481"),e("6350")),s=(e("2ef0"),e("2f62"),{id:null,avatar:"",author:"",content:"",status:1,order:0}),o={name:"Detail",props:{isEdit:{type:Boolean,default:!1}},data:function(){return{currentForm:Object.assign({},s),valid:!0,loading:!1,titleRules:[function(t){return t.length>0||"Tiêu đề không được để trống"}],slugRules:[function(t){return t.length>0||"Url không được để trống"},function(t){return/^[a-z0-9](-?[a-z0-9])*$/.test(t)||"Url không chứa khoảng trắng"}],listStatus:[{id:1,name:"Xuất bản"},{id:0,name:"Bản nháp"}]}},created:function(){if(this.isEdit){var t=this.$route.params&&this.$route.params.id;this.getData(t)}else this.currentForm=Object.assign({},s)},methods:{getData:function(t){var a=this;Object(i["c"])(t).then(function(t){a.currentForm=t}).catch(function(t){console.log(t)})},submitFormRequest:function(t){var a=this;return new Promise(function(e,n){if(a.isEdit){var r=a.$route.params&&a.$route.params.id;Object(i["e"])(r,t).then(function(t){e(t)}).catch(function(t){console.log(t),n(t)})}else Object(i["a"])(t).then(function(t){e(t)}).catch(function(t){console.log(t),n(t)})})},submitForm:function(){var t=this;this.loading=!0,this.submitFormRequest(this.currentForm).then(function(a){t.loading=!1,Dashmix.helpers("notify",{type:"success",icon:"fa fa-success mr-1",message:"Lưu dữ liệu thành công."}),t.isEdit||t.$router.replace("/testimonials/edit/"+a.id)},function(){t.loading=!1,Dashmix.helpers("notify",{type:"danger",icon:"fa fa-times mr-1",message:"Không lưu được. Vui lòng lưu lại bài viết bằng công cụ khác. Reload và thử lại."})})},openFileManager:function(t){var a=this;window.setFileToElement=function(e,n){a.currentForm[t]=n,a.$store.dispatch("file/closeFileManager"),jQuery("#modal-site-file").modal("hide")},"video"==t&&this.$store.dispatch("file/setType","Files"),this.$store.dispatch("file/openFileManager"),jQuery("#modal-site-file").modal("show")}}},c=o,l=(e("a7ca"),e("2877")),u=Object(l["a"])(c,n,r,!1,null,"727c420e",null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-fb7af980.449b7abb.js.map