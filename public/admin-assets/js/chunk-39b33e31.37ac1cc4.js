(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39b33e31","chunk-48310780"],{"23d1":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{attrs:{id:"main-container"}},[r("div",{staticClass:"content"},[r("form",{ref:"currentxForm"},[r("div",{staticClass:"block block-rounded block-bordered"},[r("div",{staticClass:"block-header block-header-default"},[r("nav",{attrs:{"aria-label":"breadcrumb"}},[r("ol",{staticClass:"breadcrumb"},[e._m(0),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:"/users"}},[e._v(e._s(e.$t("User")))])],1),e.isEdit?r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v(e._s(e.$t("Edit User"))+" / "+e._s(e.currentForm.name))]):r("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v(e._s(e.$t("New User")))])])])]),r("div",{staticClass:"block-content"},[r("div",{staticClass:"row justify-content-center py-sm-3 py-md-5"},[r("div",{staticClass:"col-sm-10 col-md-8"},[r("div",{staticClass:"form-group"},[r("label",[e._v(e._s(e.$t("Account's name")))]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"},{name:"model",rawName:"v-model",value:e.currentForm.name,expression:"currentForm.name"}],staticClass:"form-control form-control-alt",attrs:{type:"text",name:"username",placeholder:e.$t("Enter an account name")},domProps:{value:e.currentForm.name},on:{input:function(t){t.target.composing||e.$set(e.currentForm,"name",t.target.value)}}}),r("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("username")))])]),r("div",{staticClass:"form-group"},[r("label",[e._v("Email")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email|min:10",expression:"'required|email|min:10'"},{name:"model",rawName:"v-model",value:e.currentForm.email,expression:"currentForm.email"}],staticClass:"form-control form-control-alt",attrs:{type:"text",name:"email"},domProps:{value:e.currentForm.email},on:{input:function(t){t.target.composing||e.$set(e.currentForm,"email",t.target.value)}}}),r("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("email")))])]),r("div",{staticClass:"form-group"},[r("label",[e._v(e._s(e.$t("Password")))]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"},{name:"model",rawName:"v-model",value:e.currentForm.password,expression:"currentForm.password"}],staticClass:"form-control form-control-alt",attrs:{type:"password",name:"password"},domProps:{value:e.currentForm.password},on:{input:function(t){t.target.composing||e.$set(e.currentForm,"password",t.target.value)}}}),r("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("password")))])])])])]),r("div",{staticClass:"block-content block-content-full block-content-sm bg-body-light text-right"},[r("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[r("i",{staticClass:"fa fa-check"}),e._v(" "+e._s(e.$t("Save"))+"\n            ")])])])])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticStyle:{"margin-top":"-4px","margin-right":"5px"}},[r("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button"}},[r("i",{staticClass:"fa fa-plus"})])])}],s=(r("8e6e"),r("ac6a"),r("456d"),r("a481"),r("bd86")),i=r("2612"),o=r("2b0e"),c=r("7bb1"),u=(r("2ef0"),r("2f62"));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach(function(t){Object(s["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}o["a"].use(c["b"],{useConstraintAttrs:!1});var d={username:"",email:"",password:"",locale:"vi"},f={vi:{custom:{username:{required:"Vui lòng nhập username",min:"Username ít nhất 6 kí tự"},email:{required:"Vui lòng nhập mail bạn",email:"Mail chưa đúng định dạng",min:"Tên ít nhất 6 kí tự"},password:{required:"Vui lòng nhập mật khẩu của bạn",min:"Mật khẩu ít nhất 6 kí tự"}}},en:{custom:{username:{required:"Please enter username",min:"Username at least 6 characters"},email:{required:"Please enter email",email:"Please enter the correct email format",min:"Email at least 6 characters"},password:{required:"Please enter password",min:"Password at least 6 characters"}}}};c["a"].localize(f);var p=new c["a"]({first_name:"min",second_name:"required"});p.localize("vi");var h={name:"Detail",props:{isEdit:{type:Boolean,default:!1}},data:function(){return{currentForm:Object.assign({},d),valid:!0,loading:!1,snackbar:!1,txtError:""}},computed:m({},Object(u["e"])(["locale"]),{nameRules:function(){return"en"==this.locale?[function(e){return!!e||"Please enter name"}]:[function(e){return!!e||"Vui lòng nhập tên"}]},emailRules:function(){return"en"==this.locale?[function(e){return!!e||"Please enter email"},function(e){return/.+@.+/.test(e)||"Please enter the correct email format"}]:[function(e){return!!e||"Vui lòng nhập email"},function(e){return/.+@.+/.test(e)||"Vui lòng nhập đúng định dạng email"}]},passwordRules:function(){return"en"==this.locale?[function(e){return!!e||"Please enter password"}]:[function(e){return!!e||"Vui lòng nhập mật khẩu"}]},notifySuccess:function(){return"en"==this.locale?{type:"success",icon:"fa fa-success mr-1",message:"Save successfully"}:{type:"success",icon:"fa fa-success mr-1",message:"Lưu người dùng mới thành công."}},notifyUnSuccess:function(){return"en"==this.locale?{type:"danger",icon:"fa fa-times mr-1",message:"Failed to save"}:{type:"danger",icon:"fa fa-times mr-1",message:"Không lưu được"}}}),created:function(){if(this.isEdit){var e=this.$route.params&&this.$route.params.user;this.passwordRules=[],this.getData(e)}else this.currentForm=Object.assign({},d);"en"==this.locale&&this.$validator.localize("en")},methods:{getData:function(e){var t=this;Object(i["b"])(e).then(function(e){t.currentForm=e}).catch(function(e){console.log(e)})},submitFormRequest:function(e){var t=this;return new Promise(function(r,a){if(t.isEdit){var n=t.$route.params&&t.$route.params.user;Object(i["c"])(n,e).then(function(e){r(e)}).catch(function(e){a(e)})}else Object(i["a"])(e).then(function(e){r(e)}).catch(function(e){a(e)})})},submitForm:function(){var e=this;this.$validator.validateAll().then(function(t){t&&(e.loading=!0,e.submitFormRequest(e.currentForm).then(function(t){e.loading=!1,Dashmix.helpers("notify",e.notifySuccess),e.isEdit||e.$router.replace("/users/edit/"+t.id)},function(){e.loading=!1,Dashmix.helpers("notify",e.notifyUnSuccess)}))})},openFileManager:function(e){var t=this;window.setFileToElement=function(r,a){t.currentForm[e]=r,t.$store.dispatch("file/closeFileManager")},this.$store.dispatch("file/openFileManager")}}},v=h,b=r("2877"),g=Object(b["a"])(v,a,n,!1,null,"662fe34f",null);t["default"]=g.exports},2612:function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o});var a=r("b775"),n="ajax/";function s(e){return Object(a["a"])({url:n+"users/"+e,method:"get"})}function i(e){return Object(a["a"])({url:n+"users",method:"post",data:e})}function o(e,t){return Object(a["a"])({url:n+"users/"+e,method:"patch",data:t})}},f6a5:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("detail",{attrs:{"is-edit":!1}})},n=[],s=r("23d1"),i={name:"Create User",components:{Detail:s["default"]}},o=i,c=r("2877"),u=Object(c["a"])(o,a,n,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-39b33e31.37ac1cc4.js.map